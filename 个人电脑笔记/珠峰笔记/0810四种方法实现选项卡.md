### HTML

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body,
        ul {
            margin: 0;
            padding: 0;
        }

        body {
            background: #55b9f3;
            height: 100vh;
            width: 100vw;
            box-sizing: border-box;
            /* 垂直居中方法2 */
            display: table-cell;
            vertical-align: middle;
            text-align: center;
        }

        section {
            /* margin: 100px auto; */
            /* 垂直居中方法1 */
            /* position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%); */

            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            flex-direction: column;

        }

        ul {
            padding: 0;
            display: flex;
            justify-content: space-between;
            /* background-color: cadetblue; */
            max-width: 500px;

        }

        li {
            list-style: none;
            background-color: brown;
            padding: 15px 30px;
            font-size: large;
            font-weight: 500;
            letter-spacing: 5px;
            /* border-radius: 50px; */
            background: #39abec;
            box-shadow: 20px 20px 60px #489dcf,
                -20px -20px 60px #62d5ff;
            text-shadow: 2px 2px 6px #134e70;
            color: snow;
        }

        li:first-child {
            border-radius: 0 50px 0 50px;
        }

        li:last-child {
            border-radius: 50px 0 50px 0;
        }

        li:nth-child(2) {
            border-radius: 25px 25px 0 0;
        }

        li:nth-child(3) {
            border-radius: 25px 25px 0 0;
        }

        ul>li.active {
            background: #1392db;
        }

        li:hover {
            background-color: #1594dd;
            cursor: pointer;
        }

        main>div {
            /* background-color: chartreuse; */
            /* border: 1px solid red; */
            width: 424px;
            height: 200px;
            display: none;
            border-radius: 50px;
            background: #55b9f3;
            box-shadow: 20px 20px 60px #489dcf,
                -20px -20px 60px #62d5ff;
            color: snow;
            text-shadow: 2px 2px 6px #134e70;
            font-size: 30px;
            line-height: 200px;
            letter-spacing: 5px;
        }

        /* div.active 选择div中有active的div */
        main>div.active {
            background: #55b9f3;
            display: block;
        }
    </style>
</head>

<body>
    <section>
        <ul>
            <li class="active">电影</li>
            <li>直播</li>
            <li>动漫</li>
            <li>记录</li>
        </ul>
        <main>
            <div class="active">电锯惊魂</div>
            <div>虎牙直播</div>
            <div>海贼王</div>
            <div>绝境求生</div>
        </main>
    </section>
    <script src="way4.js"></script>
</body>

</html>
```



### 添加索引值法

```js
// 获取DOM
var list_arr = document.querySelectorAll("ul>li"), //li
    div_arr = document.querySelectorAll("main>div") //div
//封装方法：点击对应的li显示对应的div
function changeTab(index) {
    list_arr[index].classList.add("active")
    div_arr[index].classList.add("active")
    // 让其余的div移除active类名
    for (var i = 0; i < list_arr.length; i++) {
        // 如果i不等于点击的li的自定义属性myIndex
        if (i != index) {
            // 移除类名
            list_arr[i].classList.remove("active")
            div_arr[i].classList.remove("active")
        }
    }
}
// 添加索引值法
for (var j = 0; j < list_arr.length; j++) {
    // 给每一个li的对象添加myIndex自定义属性
    list_arr[j].myIndex = j;
    list_arr[j].onclick = function () {
        changeTab(this.myIndex)
    }
}
// 添加索引值法--鼠标移过显示
function changeTab(index) {
    // 给传入的(鼠标移动到的li)和对应的div添加样式
    list_arr[index].classList.add("active")
    div_arr[index].classList.add("active")
    // 让其余的div移除active类名
    for (var i = 0; i < list_arr.length; i++) {
        if (index !== i) {
            list_arr[i].classList.remove("active")
            div_arr[i].classList.remove("active")
        }
    }

}
for (var i = 0; i < list_arr.length; i++) {
    // 给每一个li都添加自定义索引值
    list_arr[i].myIndex = i;
    // 给给一个li都绑定事件
    list_arr[i].onmouseover = function () {
        changeTab(this.myIndex)
    }
}

```

### 闭包法

```js
// 获取DOM
var list_arr = document.querySelectorAll("ul>li") //li
    ,
    div_arr = document.querySelectorAll("main>div") //div
//封装方法：点击对应的li显示对应的div
function changeTab(index) {

    list_arr[index].classList.add("active")
    div_arr[index].classList.add("active")
    // 让其余的div移除active类名
    for (var i = 0; i < list_arr.length; i++) {
        // 如果i不等于点击的li的自定义属性myIndex
        if (i != index) {
            // 移除类名
            list_arr[i].classList.remove("active")
            div_arr[i].classList.remove("active")
        }
    }
}
// 闭包法
//在页面加载时会执行循环，给每个li绑定click事件
for (var j = 0; j < list_arr.length; j++) {
    function outer() {
        // 记录当前的j值
        var num = j;
        // 闭包特点:返回一个函数,此时每个li绑定的outer()中的num都是不同的，所以点击执行时会传入不同的num
        return function inner() {
            console.log(num)
            changeTab(num)
        }
    }
    list_arr[j].onclick = outer()
}
```

### 立即执行函数法

```js
// 获取DOM
var list_arr = document.querySelectorAll("ul>li") //li
    ,
    div_arr = document.querySelectorAll("main>div") //div
//封装方法：点击对应的li显示对应的div
function changeTab(index) {

    list_arr[index].classList.add("active")
    div_arr[index].classList.add("active")
    // 让其余的div移除active类名
    for (var i = 0; i < list_arr.length; i++) {
        // 如果i不等于点击的li的自定义属性myIndex
        if (i != index) {
            // 移除类名
            list_arr[i].classList.remove("active")
            div_arr[i].classList.remove("active")
        }
    }
}
// 立即执行函数法
for (var i = 0; i < list_arr.length; i++) {
    (function go(i) {
        list_arr[i].onclick = function () {
            changeTab(i)
        }
    })(i)

}
```

### 事件委托法

```js
// 获取DOM
var list_arr = document.querySelectorAll("ul>li") //li
    ,
    div_arr = document.querySelectorAll("main>div") //div
    ,
    ul = document.getElementsByTagName("ul")[0]
//封装方法：点击对应的li显示对应的div
function changeTab(node) {
    // 记录第几个li
    var num;
    //通过parentNode找到li的父标签ul,再通过children找到4个li
    bro_node_list = node.parentNode.children
    // 对4个li进行循环
    for (var i = 0; i < bro_node_list.length; i++) {
        // 如果当前循环到的li和传入的node是同一个，则记录当前的num值
        if (bro_node_list[i] === node) {
            num = i
        }
        // 如果当前循环到的li和传入的node不是同一个
        if (bro_node_list[i] != node) {
            // 移除li类名
            list_arr[i].classList.remove("active")
            // 移除div类名
            div_arr[i].classList.remove("active")
        }
    }
    // 对传入的Node添加类名
    node.classList.add("active")
    // 根据记录值num给对应的div设置类名
    div_arr[num].classList.add("active")
}
// 事件委托法--点击切换
ul.addEventListener("click", function (e) {
    console.log(e.target)
    /* 
    冒泡原理： 
        1.事件从根节点开始， 逐级派送到子节点， 若节点绑定了事件动作， 则执行动作， 然后继续走， 这个阶段称为“ 捕获阶段(Capture)”；
        2.执行完捕获阶段后，事件由子节点往根节点派送，若节点绑定了事件动作，则执行动作，然后继续走，这个阶段称为“冒泡阶段(Bubble)”
    事件委托原理：将子元素的事件通过冒泡的形式交由父元素来执行 
    */
    // 根据冒泡原理中的捕获阶段，点击ul时会派送到子节点li，只需一次操作DOM，优化性能
    /* 事件流：
        1.捕获：查找目标元素； //点击时，找到e.target
        2.目标：执行目标的事件； //e.target本身没有绑定事件
        3.冒泡：依次执行祖先元素的事件
    */
    // 通过e,target获取当前点击的Node
    var node = e.target;
    changeTab(node)
})
// 事件委托法--鼠标移动立即切换
/* ul.onmouseover = function (e) {
    console.log(e.target)
    for (var i = 0; i < list_arr.length; i++) {
        // 匹配鼠标移动到的li
        if (e.target == list_arr[i]) {
            // 执行方法
            changeTab(e.target)
        }
    }
} */
```

