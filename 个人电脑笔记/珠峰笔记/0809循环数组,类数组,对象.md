## 循环

[TOC]

### 可迭代对象

- **数组**:一种特殊的对象(具备索引[索引从0开始]和length属性),循环一个数组,直接用for循环

  ```js
  var arr = [10, 20, 30];
  for (var i = 0; i < arr.length; i++) {
      //获取数组中的每一项可以用arr[index]
      console.log(arr[i])
  }
  ```

- **类数组结构**:不是数组,但是结构是数组非常相似

  ```js
  //
  var arrayLike = {
  	w:22,
      0: 10,
      1: 20,
      2: 30,
      x:'...',
      y:'...',
      length: 3 //必须要有这一项，不然不输出
  };
  for (var i = 0; i < arrayLike.length; i++) {
      console.log(arrayLike[i]);// 输出10 20 30，前面的w和后面的x,y不输出了
      //结论：1、需要有一组按顺序增加且初始值为0的key值，
      //     2、需要有length:n n为顺序增加的key的个数，超出会输出undifined
  
  } 
  ```



- **普通对象**：不能用for循环遍历，因为没有代表有多少组键值对的length，也不像数组属性名都是数字索引...不具备数组这种结构的对象，遍历对象中的每一项，可以基于for in循环



### for循环

> 1. 设定初始值
> 2. 设定循环执行的条件
> 3. 符合条件的执行循环体中的代码
> 4. 基于步长累加进入下一轮循环

```js
for (var i = 0; i < 5; i++) {
    // 循环体：重复做的事情（代码块）
    // console.log(i); // 0 1 2 3 4
}
console.log(i); // 5 
/*~~~~~~~~~~~~~~~~~~~*/
var i = 10;
for (; i >= 0; i -= 2) {
    console.log(i); // 10 8 6 4 2 0
}
console.log('循环结束', i); // -2 
```

### while循环

> 只关注循环结束的条件

```js
var i = 10;
while (i >= 0) {
    console.log(i);
    i -= 2;
  }
```

### for in 循环

> 用户需求场景:依次遍历(迭代)数组或者对象中的每一项
>
> 在for in循环中，对象中有多少组键值对，就会循环多少次
>
> key:变量，存储的是当前迭代的属性名
>
> 在迭代的时候，是优先按照从小到大的顺序遍历数字属性名的

```js
 var obj = {
    name: 'lili',
    age: 11,
    0: 10,
    2: 30
}
for (var key in obj) {
     console.log(key); // 0 2 "name" "age" 按从小到大输出对象的key值
     console.log(obj[key]); // 10 30 lili 11，输出对象对应key值的value

    // obj.key VS obj[key]
    // obj.key:获取obj对象中成员为"key"属性名对应的属性值，此处没有，所以输出undefined
    console.log(obj.name) //则会输出lili四次
    // obj[key]:此处的key是一个变量，把每一轮循环key变量存储值作为键，到对象中查找对应的成员值 
}
```

- 数组和类似组可以基于for循环遍历每一项（指定的是数字索引的每一项）；而对象只能基于for in遍历每一项；但是**数组**和**类数组**也是对象，也可以基于for in遍历

**类数组**

```js
var arrayLike = {
    0: 10,
    1: 20,
    2: 30,
    x: 100,
    y: 200,
    length: 3
};
for (var key in arrayLike) {
    console.log(key); // 循环6次 0 1 2 x y length， 输出对象中的key值
}
for (var i = 0; i < arrayLike.length; i++) {
    console.log(arrayLike[i]); //循环3次 10 20 30
}
```

**数组**

```js
var arr = [10, 20, 30];
arr.abc = 100;
for (var key in arr) {
    console.log(key); //循环四次 0 1 2 'abc'，数组也是一个对象，也能输出对象中的key
    // 原因：数组结构中的length属性是内置的（而且这个属性是不可枚举的：不能被for in遍历，也就是不会输出length）
} 
```

### 循环跳出与终止

> **continue** ：结束当前这一轮循环（循环体中,continue下面代码不执行了），继续执行下一轮（注意：步长累计还需要执行，也就是i++也会计算）
>
> **break**：结束整个循环（循环体中,break下面代码不执行了，并且步长累计也不执行了）

```js
for (var i = 0; i < 10; i++) {
    if (i >= 3) {
        console.log(i); // 3 6 9
        i += 2;
        continue;
    }
    if (i >= 6) {
        console.log(i);
        i += 3;
        break;
    }
    console.log(i); // 0 1 2 
}
console.log(i); // 12
//1、前面i从0加到2，输出0,1,2
//2、i=3时，进入第一个条件，输出3,i+2,跳出这个循环，i++
//3、此时i已经变成6，再次进入第一个条件，输出6,i+2,跳出循环,i++
//4、此时i已经变成9，再次进入第一个条件，输出9，i+2,跳出循环,i++
//5、此时9已经变成12，不符合i<10的条件，不再进入循环，到最后的console.log(i)输出12结束
//整个输出顺序就是：0 1 2 3 6 9 12
```

