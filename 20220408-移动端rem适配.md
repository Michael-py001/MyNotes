# 20220408-移动端rem适配

设计稿：

![image-20220408101041704](https://s2.loli.net/2022/04/08/tNAuVQ2jLTFx4UX.png)如上图的设计稿宽度是750px，在苹果SE手机上的屏幕像素宽度是375px；

![image-20220408101318331](https://s2.loli.net/2022/04/08/6sc3jQZOeDguRIp.png)

那么以下这个按钮怎么适配呢？

> 宽度 287px 高度 80px

![image-20220408101446706](https://s2.loli.net/2022/04/08/SBhCNdYUafw6tAs.png)

这里使用最常见的rem适配，html的font-size等于1rem。

如果html:font-size  = 100px = 1rem ，那么 1px = 0.01rem。

那么这个按钮的宽高就等于：

> 宽：2.87rem  高：0.8rem

![image-20220408101755114](https://s2.loli.net/2022/04/08/R4iKPJGcOMxvq3W.png)

需要注意的是，这是在屏幕宽度是750px的情况下才可以这样换算：

屏幕宽度750px: html:font-size = **屏幕宽度750px / 设计稿宽度750px * 100 +'px'**

乘以100是为了方便换算，1px = 0.01rem，这样直接把设计稿上的px直接除以100就是最终rem的值了。

那么苹果手机上的屏幕宽度是375px，或者是其他宽度。并不是750px，那么我们也需要按比例进行动态换算。

​			屏幕宽度 = document.documentElement.clientWidth 

​			html:font-size = **屏幕宽度/ 设计稿宽度 * 100 +'px'**

例如上面的苹果SE屏幕宽度是设计稿的一半，那么:

​			html:font-size = (375 / 750 ) * 100 + 'px' = 1 / 2 * 100 = 50px

所以在苹果SE手机下，html的font-size就为50px

![image-20220408103256195](https://s2.loli.net/2022/04/08/1hBa46g3nWtDU8O.png)

所以下面这个按钮经过rem换算后，实际宽为 143.5px , 高 40px ，因为屏幕宽度是设计稿的一半，所以实际宽高也变成了设计稿的一半。

![image-20220408103151724](https://s2.loli.net/2022/04/08/Ryn1LmWkEZOuxw3.png)

![image-20220408103229834](https://s2.loli.net/2022/04/08/jmQM3yhxKrn8tdp.png)

当然这个实际宽高我们不需要太过在意他是怎么换算的，因为不同宽度的屏幕最终html的font-size也会不一样，可能会有小数点，不是一个整数。所以我们只需要专注于他的原理，得出一个易于换算的标准公式就行了。

屏幕宽度 = document.documentElement.clientWidth

 document.documentElement.style.fontSize =  **屏幕宽度/ 设计稿宽度 * 100 +'px'**