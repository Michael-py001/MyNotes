# 20221221-使用hook的数据共享问题

从外部文件导入函数时，通常是直接执行这个导出的方法 `useXXX()`，此时解构出里面的数据是执行这个函数重新获取，是全新的数据，如果你在多个文件里使用`useXXX()`，而你又想取得里面某个数据，这时很有可能取得的值是：一个有数据，另一个数据为空。

![image-20221221191601770](https://f.pz.al/pzal/2022/12/21/0b326bbc61c97.png)



原因如下：

很有可能你把变量写在了函数里面，而这个文件默认导出就是这个函数，在多个地方usexxx()时，里面的值随着函数执行，会重新初始化，所以取得的值是空。

解决办法就是把变量定义在函数外部，只会初始化一次。

![image-20221221192045229](https://f.pz.al/pzal/2022/12/21/d0b15078fdd85.png)