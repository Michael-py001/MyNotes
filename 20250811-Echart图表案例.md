# 海上风电运营指标数据分析

> 页面：http://localhost:8001/#/windfarm-data-dashboard

效果：

![image-20250811165102749](https://s2.loli.net/2025/08/11/BXjJUeGuypvNVM8.png)

![image-20250811170232205](https://s2.loli.net/2025/08/11/GMyIDYlVJThredv.png)

实现原理：

- 3D柱形效果：

  - 每根柱子使用3个series数据渲染出3D效果

  - 使用`z`属性控制图层在那一层，比如顶部的菱形为2，柱子为1

- 横向的虚线：
  使用series数据里面的markline属性画上去

- 显示顶部数据

- x轴文字旋转方向

  ```js
  xAxis: {
      data: xAxis,
          axisLabel: {
              rotate: -45,
                  interval: 0,
          },
  },
  ```

  

- series核心代码：

```js
const defaultSeries = [
    {
      // /数据图
      data: series,
      type: 'bar',
      name: currentTab.name,
      barWidth: 10,
      itemStyle: {
        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [
          { offset: 0, color: '#36FCFF1A' },
          { offset: 1, color: '#36FCFF' },
        ]),
      },
      z: 1,
      markLine: {
        silent: true,
        symbol: 'circle',
        symbolSize: 0,
        precision: currentTab.decimal || 0,
        data: markLineAvgs,
        lineStyle: {
          color: '#FFA285',
          type: [15, 7],
        },
        label: {
          position: 'insideEndBottom',
          color: '#FFA285',
          fontWeight: 'bold',
          // color: '#00C73C'
        },
      },
    },
    {
      // /数据图
      data: series,
      type: 'bar',
      name: currentTab.name,
      barGap: 0,
      barWidth: 10,
      itemStyle: {
        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [
          { offset: 0, color: '#1AADC31A' },
          { offset: 1, color: '#00AAC3' },
        ]),
      },
      z: 1,
    },
    {
      // 最上面菱形
      data: series,
      name: currentTab.name,
      type: 'pictorialBar',
      symbol: 'diamond',
      symbolSize: ['20', '10'],
      symbolPosition: 'end',
      symbolOffset: designOn ? ['-50%', '-50%'] : ['0', '-50%'],
      itemStyle: {
        color: '#8EFDFF',
      },
      z: 2,
      label: {
        show: showLabel,
        position: ['35%', -15],
        formatter: '{c}', // 显示数值
        color: '#fff',
      },
    },
  ];
  if (designOn) {
    defaultSeries.push(...designSeries);
    markLineAvgs.push({
      type: 'average',
      name: '平均值',
      yAxis: designAvg,
      lineStyle: {
        color: '#FFE385',
      },
    });
  }
```

- yAxis

  ```js
   yAxis: {
        name: '单位：' + currentTab.unit,
        nameTextStyle: {
          padding: [0, 0, 8, 0],
        },
      },
  ```

  export default {

   name: 'BuoyRadarIndex',

  };